From 20317478dff5101ad4890f5c5ebe4398f990924d Mon Sep 17 00:00:00 2001
From: "Mazlan, Hazwan Arif" <hazwan.arif.mazlan@intel.com>
Date: Wed, 16 Feb 2022 07:26:59 +0800
Subject: [PATCH] intel: RPL-P enablement

PO patch following Bspec: 55370
HSDES ID: NA

Signed-off-by: Mazlan, Hazwan Arif <hazwan.arif.mazlan@intel.com>
---
 Source/GmmLib/Platform/GmmGen12Platform.cpp |  1 +
 Source/inc/common/igfxfmid.h                | 12 +++++++++++-
 2 files changed, 12 insertions(+), 1 deletion(-)

diff --git a/Source/GmmLib/Platform/GmmGen12Platform.cpp b/Source/GmmLib/Platform/GmmGen12Platform.cpp
index a881bd9174e9..3aab20b9ede2 100644
--- a/Source/GmmLib/Platform/GmmGen12Platform.cpp
+++ b/Source/GmmLib/Platform/GmmGen12Platform.cpp
@@ -316,6 +316,7 @@ FCRECTALIGN(TILE__64_2D_128bpe, 128,  32,  32,   32, 32);
        (GFX_GET_CURRENT_PRODUCT(Data.Platform) == IGFX_ALDERLAKE_P) || 
        (GFX_GET_CURRENT_PRODUCT(Data.Platform) == IGFX_ALDERLAKE_N) ||
        (GFX_GET_CURRENT_PRODUCT(Data.Platform) == IGFX_RAPTORLAKE_S) ||
+       (GFX_GET_CURRENT_PRODUCT(Data.Platform) == IGFX_RAPTORLAKE_P) ||
        (GFX_GET_CURRENT_PRODUCT(Data.Platform) >= IGFX_XE_HP_SDV))
     {
         Data.NoOfBitsSupported                = 46;
diff --git a/Source/inc/common/igfxfmid.h b/Source/inc/common/igfxfmid.h
index 4e77cc2748de..9682322fc0c7 100644
--- a/Source/inc/common/igfxfmid.h
+++ b/Source/inc/common/igfxfmid.h
@@ -72,6 +72,7 @@ typedef enum {
     IGFX_ALDERLAKE_P,
     IGFX_ALDERLAKE_N,
     IGFX_RAPTORLAKE_S,
+    IGFX_RAPTORLAKE_P,
     IGFX_DG1  = 1210,
     IGFX_XE_HP_SDV = 1250,
     IGFX_DG2 = 1270,
@@ -106,6 +107,7 @@ typedef enum {
     PCH_ADL_S,          // ADL_S PCH
     PCH_ADL_P,          // ADL_P PCH
     PCH_RPL_S,          // RPL_S PCH
+    PCH_RPL_P,          // RPL_P PCH
     PCH_TGL_H,          // TGL H PCH
     PCH_ADL_N,          // ADL_N PCH
     PCH_PRODUCT_FAMILY_FORCE_ULONG = 0x7fffffff
@@ -1365,12 +1367,20 @@ typedef enum __NATIVEGTTYPE
 #define DEV_ID_46C2                             0x46C2
 #define DEV_ID_46C3                             0x46C3
 
-//RPL-S PCH Device IDs
+//RPL-S GFX Device IDs
 #define DEV_ID_A780                             0xA780
 #define DEV_ID_A781                             0xA781
 #define DEV_ID_A782                             0xA782
 #define DEV_ID_A783                             0xA783
 
+//RPL-P Device IDs
+#define DEV_ID_A7A0                             0xA7A0
+#define DEV_ID_A720                             0xA720
+#define DEV_ID_A7A8                             0xA7A8
+#define DEV_ID_A7A1                             0xA7A1
+#define DEV_ID_A721                             0xA721
+#define DEV_ID_A7A9                             0xA7A9
+
 //ICL PCH LP Device IDs
 #define ICP_LP_RESERVED_FUSE_ID                 0x3480
 #define ICP_LP_U_SUPER_SKU_ID                   0x3481
-- 
2.34.1

